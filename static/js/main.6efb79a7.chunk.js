(this["webpackJsonpreact-paint"]=this["webpackJsonpreact-paint"]||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),s=n(9),i=n.n(s),o=(n(68),n(12)),l=n(11),u=function(e,t){e.setSelectionRange(t-2,t-2)};var d=function(e){var t=function(){var e=r.a.useState([0,0]),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.useLayoutEffect((function(){function e(){c([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=Object(l.a)(t,2),a=n[0],s=n[1],i=r.a.useRef(),o=r.a.useRef(),d=r.a.useRef(0),j=r.a.useRef(0),f=r.a.useRef({}),b=0,h=!1;r.a.useEffect((function(){O()}),[]),r.a.useEffect((function(){O()}),[a,s,e.toggleClear]),r.a.useEffect((function(){e.color&&(o.current.strokeStyle=e.color),e.canvasClass&&i.current&&(i.current.className=e.canvasClass)}),[e.color,e.canvasClass]),r.a.useEffect((function(){Number(e.lineWidth)>0&&(o.current.lineWidth=e.lineWidth)}),[e.lineWidth]);var O=function(){i.current.width=a,i.current.height=s,i.current.classList.add=e.canvasClass,o.current=i.current.getContext("2d"),o.current.lineJoin="round",o.current.lineCap="round",o.current.font="16px Arial",o.current.strokeStyle=e.color,o.current.lineWidth=e.lineWidth},v=function(e,t){var n=document.createElement("textarea");n.class="canvas-textarea",n.rows=1,n.cols=20,n.style.position="fixed",n.style.padding="10px",n.style.left=e-4+"px",n.style.top=t-4+"px",n.onblur=p,n.onkeydown=x,document.body.appendChild(n),n.focus(),!0},x=function(e){var t=e.keyCode;if(9===t)return e.target.value=e.target.value.slice(0,e.target.selectionStart)+"  "+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart),!1;57===t&&e.shiftKey&&setTimeout((function(){e.target.value=e.target.value.slice(0,e.target.selectionStart)+")"+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart+1)}),0),219===t&&e.shiftKey&&setTimeout((function(){e.target.value=e.target.value.slice(0,e.target.selectionStart)+"}"+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart+1)}),0)},p=function(t){var n,c,a,r=t.target.value.split("\n");n=r,c=parseInt(t.target.style.left,10),a=parseInt(t.target.style.top,10),o.current.textBaseline="top",o.current.textAlign="left",o.current.fillStyle=e.color,n.forEach((function(e,t){return o.current.fillText(e,c,a+16*t)})),function(e){document.body.removeChild(e.target),!1}(t)};var g=function(t){h=!0,e.isSquare?(f.current.startX=t.nativeEvent.offsetX,f.current.startY=t.nativeEvent.offsetY):(d.current=t.nativeEvent.offsetX,j.current=t.nativeEvent.offsetY)},m=function(t){if(e.isSquare&&h)!function(t){f.current.w=t.nativeEvent.offsetX-f.current.startX,f.current.h=t.nativeEvent.offsetY-f.current.startY,o.current.strokeStyle=e.color,o.current.clearRect(0,0,i.current.width,i.current.height),o.current.strokeRect(f.current.startX,f.current.startY,f.current.w,f.current.h)}(t);else if(h&&!e.isText){o.current.beginPath(),o.current.moveTo(d.current,j.current),o.current.lineTo(t.nativeEvent.offsetX,t.nativeEvent.offsetY),o.current.stroke();var n=[t.nativeEvent.offsetX,t.nativeEvent.offsetY];d.current=n[0],j.current=n[1],++b>=360&&(b=0)}};return Object(c.jsx)("canvas",{ref:i,id:"paint",onMouseDown:g,onTouchStart:g,onMouseUp:function(){e.isSquare&&e.onDrawFinish(),h=!1},onTouchEnd:function(){return h=!1},onMouseOut:function(){return h=!1},onMouseMove:m,onTouchMove:m,onClick:function(t){e.isText&&v(t.nativeEvent.offsetX,t.nativeEvent.offsetY)},style:e.style})};var j=function(e){var t=r.a.useState(0),n=Object(l.a)(t,2),a=n[0],s=n[1],i=r.a.useState("pencil"),o=Object(l.a)(i,2),u=o[0],j=o[1];r.a.useEffect((function(){s(a+1),e.isSquare&&j("square"),e.isText&&j("text"),e.isPencil&&j("pencil")}),[e.isSquare,e.isPencil,e.isText]);var f=new Array(a).fill(0);return Object(c.jsx)("div",{id:"canvas",children:f.map((function(t,n){return Object(c.jsx)(d,{color:e.color,lineWidth:e.lineWidth,style:{zIndex:n},isSquare:e.isSquare,isText:e.isText,canvasClass:u,onDrawFinish:function(){return s(a+1)}},n)}))})},f=(n(69),n(112)),b=n(113),h=n(114),O=n(115),v=n(116),x=n(117),p=n(132),g=n(130),m=n(121),w=n(134),S=n(122),C=n(118),k=n(119),y=n(120),N=n(123),E=n(124),T=n(125),W=n(126),q=n(127),P=n(128),R=n(129),X=n(133),Y=n(131),L=n(105),F=n(37);n(71);var M=function(e){var t=r.a.useRef(),n=r.a.useCallback(Object(F.debounce)((function(t){return e.onColorChange(t)}),300),[]);return Object(c.jsxs)(X.a,{className:"color-label",children:[Object(c.jsx)("div",{className:"color-icon",children:Object(c.jsx)(L.a,{ref:t})}),Object(c.jsx)(Y.a,{type:"color",className:"color-input",onChange:function(e){n(e.target.value),t.current.style.color=e.target.value}})]})},A=n(107),I=n(108),D=n(109),z=n(78),B=n(106),J=function(e){var t=e.isOpen,n=e.anchorEl,a=e.placement,s=e.lineWidth,i=e.onLineWidthChange,u=r.a.useState(t),d=Object(l.a)(u,2),j=d[0],f=d[1],b=r.a.useCallback(Object(F.debounce)((function(e){return i(e)}),300),[]),h=function(e){b(e.target.value)};return r.a.useEffect((function(){f(t)}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B.a,{}),Object(c.jsx)("div",{children:Object(c.jsx)(A.a,{open:j,anchorEl:n,placement:a,transition:!0,className:"lineweight-input",children:function(e){var t=e.TransitionProps;return Object(c.jsx)(I.a,{onClickAway:function(){return f(!1)},children:Object(c.jsx)(D.a,Object(o.a)(Object(o.a)({},t),{},{timeout:350,children:Object(c.jsx)(z.a,{className:"lineweight-input-paper",elevation:0,children:Object(c.jsx)(Y.a,{type:"range",disableUnderline:!0,onChange:h,defaultValue:s,inputProps:{min:1,max:20}})})}))})}})})]})},K=n(58),U=n(44),H=n(110),V=n(111),G=function(e){var t=e?"dark":"light",n=e?U.a[500]:"#ffff",c=e?"#fff":"rgba(0, 0, 0, 0.54)",a=e?H.a[900]:V.a[500];return Object(K.a)({palette:{type:t,primary:{main:n,contrastText:c},secondary:{main:a,contrastText:"#fff"}}})},Q={color:!1,pencil:!1,curve:!1,brush:!1,text:!1,square:!1,circle:!1};var Z=function(){var e,t=r.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],i=r.a.useState(""),u=Object(l.a)(i,2),d=u[0],X=u[1],Y=r.a.useState(!1),L=Object(l.a)(Y,2),F=L[0],A=L[1],I=r.a.useState(!1),D=Object(l.a)(I,2),z=D[0],B=D[1],K=r.a.useState(Object(o.a)(Object(o.a)({},Q),{},{pencil:!0})),U=Object(l.a)(K,2),H=U[0],V=U[1],Z=r.a.useState(null),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=r.a.useState(!1),ne=Object(l.a)(te,2),ce=ne[0],ae=ne[1],re=r.a.useState(),se=Object(l.a)(re,2),ie=se[0],oe=se[1],le=r.a.useState(!1),ue=Object(l.a)(le,2),de=(ue[0],ue[1]),je=r.a.useState(!1),fe=Object(l.a)(je,2),be=(fe[0],fe[1]),he=r.a.useState(!1),Oe=Object(l.a)(he,2),ve=(Oe[0],Oe[1]);return Object(c.jsxs)(f.a,{theme:G(F),children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(h.a,{position:"fixed",color:"primary",elevation:0,children:Object(c.jsxs)(O.a,{className:"app-header",children:[Object(c.jsx)(v.a,{variant:"h6",children:"React Paint"}),Object(c.jsx)(x.a,{children:Object(c.jsx)(C.a,{})}),Object(c.jsxs)("div",{className:"dark-mode-switch",children:[Object(c.jsx)("div",{children:Object(c.jsx)(k.a,{})}),Object(c.jsx)(p.a,{checked:F,onChange:function(){A(!F)},color:"default"}),Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{})})]})]})}),Object(c.jsx)(g.a,{variant:"permanent",PaperProps:{className:"app-drawer"},color:"primary",children:Object(c.jsxs)(m.a,{className:"drawer-content",children:[Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button",children:Object(c.jsx)(M,{onColorChange:function(e){de(!1),be(!1),s(e)}})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.lineWidth?F?"selected-dark":"selected":""),onClick:(e="right",function(t){ee(t.currentTarget),ae((function(t){return ie!==e||!t})),oe(e)}),selected:H.lineWidth,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(J,{isOpen:ce,lineWidth:d,anchorEl:_,placement:ie,onLineWidthChange:function(e){return X(e)}})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.pencil?F?"selected-dark":"selected":""),onClick:function(){V(Object(o.a)(Object(o.a)({},Q),{},{pencil:!0})),de(!1),be(!1),ve(!0),X("1")},selected:H.pencil,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(N.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.curve?F?"selected-dark":"selected":""),onClick:function(){return V(Object(o.a)(Object(o.a)({},Q),{},{curve:!0}))},selected:H.curve,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(E.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.brush?F?"selected-dark":"selected":""),onClick:function(){return V(Object(o.a)(Object(o.a)({},Q),{},{brush:!0}))},selected:H.brush,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(T.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.text?F?"selected-dark":"selected":""),onClick:function(){V(Object(o.a)(Object(o.a)({},Q),{},{text:!0})),ve(!1),de(!1),be(!0)},selected:H.text,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(W.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.square?F?"selected-dark":"selected":""),onClick:function(){V(Object(o.a)(Object(o.a)({},Q),{},{square:!0})),ve(!1),be(!1),de(!0)},selected:H.square,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(q.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button ".concat(H.circle?F?"selected-dark":"selected":""),onClick:function(){return V(Object(o.a)(Object(o.a)({},Q),{},{circle:!0}))},selected:H.circle,children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(P.a,{})})}),Object(c.jsx)(w.a,{button:!0,className:"drawer-content-button",onClick:function(){V(Object(o.a)({},Q)),X(""),B(!z)},children:Object(c.jsx)(S.a,{className:"drawer-icon",children:Object(c.jsx)(R.a,{})})})]})}),Object(c.jsx)(j,{toggleClear:z,color:a,lineWidth:d,isSquare:H.square,isText:H.text,isPencil:H.pencil,theme:F})]})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(Z,{}),document.getElementById("root")),$()}},[[76,1,2]]]);
//# sourceMappingURL=main.6efb79a7.chunk.js.map