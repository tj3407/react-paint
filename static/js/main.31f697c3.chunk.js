(this["webpackJsonpreact-paint"]=this["webpackJsonpreact-paint"]||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),s=n(9),i=n.n(s),o=(n(68),n(11)),l=n(12),u=function(e,t){e.setSelectionRange(t-2,t-2)};var d=function(e){var t=function(){var e=r.a.useState([0,0]),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.useLayoutEffect((function(){function e(){c([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=Object(l.a)(t,2),a=n[0],s=n[1],i=r.a.useRef(),o=r.a.useRef(),d=r.a.useRef(0),j=r.a.useRef(0),b=0,f=!1,O=!1;r.a.useEffect((function(){g()}),[]),r.a.useEffect((function(){i.current.className="",g()}),[a,s,e.toggleClear]),r.a.useEffect((function(){o.current.strokeStyle=e.color}),[e.color]),r.a.useEffect((function(){Number(e.lineWidth)>0&&(i.current.className="",i.current.classList.add("pencil"),o.current.lineWidth=e.lineWidth)}),[e.lineWidth]),r.a.useEffect((function(){i.current.className="",O=e.isText,e.isSquare&&i.current.classList.add("square"),e.isText&&i.current.classList.add("text"),e.isPencil&&i.current.classList.add("pencil")}),[e.isSquare,e.isPencil,e.isText]);var h=function(e,t){var n=document.createElement("textarea");n.id="canvas-textarea",n.rows=5,n.cols=30,n.style.position="fixed",n.style.left=e-4+"px",n.style.top=t-4+"px",n.onblur=v,n.onkeydown=x,document.body.appendChild(n),n.focus(),!0},x=function(e){var t=e.keyCode;if(9===t)return e.target.value=e.target.value.slice(0,e.target.selectionStart)+"  "+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart),!1;57===t&&e.shiftKey&&setTimeout((function(){e.target.value=e.target.value.slice(0,e.target.selectionStart)+")"+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart+1)}),0),219===t&&e.shiftKey&&setTimeout((function(){e.target.value=e.target.value.slice(0,e.target.selectionStart)+"}"+e.target.value.slice(e.target.selectionStart),u(e.target,e.target.selectionStart+1)}),0)},v=function(t){var n,c,a,r=t.target.value.split("\n");n=r,c=parseInt(t.target.style.left,10),a=parseInt(t.target.style.top,10),o.current.textBaseline="top",o.current.textAlign="left",o.current.fillStyle=e.color,n.forEach((function(e,t){return o.current.fillText(e,c,a+16*t)})),function(e){document.body.removeChild(e.target),!1}(t)},g=function(){i.current.width=a,i.current.height=s,o.current=i.current.getContext("2d"),o.current.lineJoin="round",o.current.lineCap="round",o.current.font="16px Arial",o.current.lineWidth=20},p=function(e){f=!0,d.current=e.nativeEvent.offsetX,j.current=e.nativeEvent.offsetY},m=function(e){if(f&&!O){o.current.beginPath(),o.current.moveTo(d.current,j.current),o.current.lineTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),o.current.stroke();var t=[e.nativeEvent.offsetX,e.nativeEvent.offsetY];d.current=t[0],j.current=t[1],++b>=360&&(b=0)}};return Object(c.jsx)("div",{children:Object(c.jsx)("canvas",{ref:i,id:"paint",onMouseDown:p,onTouchStart:p,onMouseUp:function(){return f=!1},onTouchEnd:function(){return f=!1},onMouseOut:function(){return f=!1},onMouseMove:m,onTouchMove:m,onClick:function(e){O&&h(e.nativeEvent.offsetX,e.nativeEvent.offsetY)}})})},j=(n(69),n(112)),b=n(113),f=n(114),O=n(115),h=n(116),x=n(117),v=n(132),g=n(130),p=n(121),m=n(134),w=n(122),C=n(118),N=n(119),k=n(120),S=n(123),y=n(124),E=n(125),T=n(126),W=n(127),L=n(128),P=n(129),q=n(133),R=n(131),M=n(105),F=n(37);n(71);var A=function(e){var t=r.a.useRef(),n=r.a.useCallback(Object(F.debounce)((function(t){return e.onColorChange(t)}),300),[]);return Object(c.jsxs)(q.a,{className:"color-label",children:[Object(c.jsx)("div",{className:"color-icon",children:Object(c.jsx)(M.a,{ref:t})}),Object(c.jsx)(R.a,{type:"color",className:"color-input",onChange:function(e){n(e.target.value),t.current.style.color=e.target.value}})]})},I=n(107),X=n(108),Y=n(109),B=n(78),J=n(106),z=function(e){var t=e.isOpen,n=e.anchorEl,a=e.placement,s=e.lineWidth,i=e.onLineWidthChange,u=r.a.useState(t),d=Object(l.a)(u,2),j=d[0],b=d[1],f=r.a.useCallback(Object(F.debounce)((function(e){return i(e)}),300),[]),O=function(e){f(e.target.value)};return r.a.useEffect((function(){b(t)}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(J.a,{}),Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{open:j,anchorEl:n,placement:a,transition:!0,className:"lineweight-input",children:function(e){var t=e.TransitionProps;return Object(c.jsx)(X.a,{onClickAway:function(){return b(!1)},children:Object(c.jsx)(Y.a,Object(o.a)(Object(o.a)({},t),{},{timeout:350,children:Object(c.jsx)(B.a,{className:"lineweight-input-paper",elevation:0,children:Object(c.jsx)(R.a,{type:"range",disableUnderline:!0,onChange:O,defaultValue:s,inputProps:{min:1}})})}))})}})})]})},D=n(58),K=n(44),U=n(110),H=n(111),V=function(e){var t=e?"dark":"light",n=e?K.a[500]:"#ffff",c=e?"#fff":"rgba(0, 0, 0, 0.54)",a=e?U.a[900]:H.a[500];return Object(D.a)({palette:{type:t,primary:{main:n,contrastText:c},secondary:{main:a,contrastText:"#fff"}}})},G={color:!1,pencil:!1,curve:!1,brush:!1,text:!1,lineWidth:!1,square:!1,circle:!1};var Q=function(){var e,t=r.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],i=r.a.useState(""),u=Object(l.a)(i,2),q=u[0],R=u[1],M=r.a.useState(!1),F=Object(l.a)(M,2),I=F[0],X=F[1],Y=r.a.useState(!1),B=Object(l.a)(Y,2),J=B[0],D=B[1],K=r.a.useState(G),U=Object(l.a)(K,2),H=U[0],Q=U[1],Z=r.a.useState(null),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=r.a.useState(!1),ne=Object(l.a)(te,2),ce=ne[0],ae=ne[1],re=r.a.useState(),se=Object(l.a)(re,2),ie=se[0],oe=se[1],le=r.a.useState(!1),ue=Object(l.a)(le,2),de=ue[0],je=ue[1],be=r.a.useState(!1),fe=Object(l.a)(be,2),Oe=fe[0],he=fe[1],xe=r.a.useState(!1),ve=Object(l.a)(xe,2),ge=ve[0],pe=ve[1];return Object(c.jsxs)(j.a,{theme:V(I),children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(f.a,{position:"fixed",color:"primary",elevation:0,children:Object(c.jsxs)(O.a,{className:"app-header",children:[Object(c.jsx)(h.a,{variant:"h6",children:"React Paint"}),Object(c.jsx)(x.a,{children:Object(c.jsx)(C.a,{})}),Object(c.jsxs)("div",{className:"dark-mode-switch",children:[Object(c.jsx)("div",{children:Object(c.jsx)(N.a,{})}),Object(c.jsx)(v.a,{checked:I,onChange:function(){X(!I)},color:"default"}),Object(c.jsx)("div",{children:Object(c.jsx)(k.a,{})})]})]})}),Object(c.jsx)(g.a,{variant:"permanent",PaperProps:{className:"app-drawer"},color:"primary",children:Object(c.jsxs)(p.a,{className:"drawer-content",children:[Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.color?I?"selected-dark":"selected":""),onClick:function(e){Q(Object(o.a)(Object(o.a)({},G),{},{color:!0}))},selected:H.color,children:Object(c.jsx)(A,{onColorChange:function(e){je(!1),he(!1),s(e)}})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.pencil?I?"selected-dark":"selected":""),onClick:function(){Q(Object(o.a)(Object(o.a)({},G),{},{pencil:!0})),je(!1),he(!1),pe(!0),R("1")},selected:H.pencil,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(S.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.curve?I?"selected-dark":"selected":""),onClick:function(){return Q(Object(o.a)(Object(o.a)({},G),{},{curve:!0}))},selected:H.curve,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(y.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.brush?I?"selected-dark":"selected":""),onClick:function(){return Q(Object(o.a)(Object(o.a)({},G),{},{brush:!0}))},selected:H.brush,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(E.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.text?I?"selected-dark":"selected":""),onClick:function(){Q(Object(o.a)(Object(o.a)({},G),{},{text:!0})),pe(!1),je(!1),he(!0)},selected:H.text,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(T.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.lineWidth?I?"selected-dark":"selected":""),onClick:(e="right",function(t){Q(Object(o.a)(Object(o.a)({},G),{},{lineWidth:!0})),ee(t.currentTarget),ae((function(t){return ie!==e||!t})),oe(e)}),selected:H.lineWidth,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(z,{isOpen:ce,lineWidth:q,anchorEl:_,placement:ie,onLineWidthChange:function(e){return R(e)}})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.square?I?"selected-dark":"selected":""),onClick:function(){Q(Object(o.a)(Object(o.a)({},G),{},{square:!0})),pe(!1),he(!1),je(!0)},selected:H.square,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(W.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button ".concat(H.circle?I?"selected-dark":"selected":""),onClick:function(){return Q(Object(o.a)(Object(o.a)({},G),{},{circle:!0}))},selected:H.circle,children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(L.a,{})})}),Object(c.jsx)(m.a,{button:!0,className:"drawer-content-button",onClick:function(){Q(Object(o.a)({},G)),R(""),D(!J)},children:Object(c.jsx)(w.a,{className:"drawer-icon",children:Object(c.jsx)(P.a,{})})})]})}),Object(c.jsx)(d,{toggleClear:J,color:a,lineWidth:q,isSquare:de,isText:Oe,isPencil:ge,theme:I})]})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(Q,{}),document.getElementById("root")),Z()}},[[76,1,2]]]);
//# sourceMappingURL=main.31f697c3.chunk.js.map